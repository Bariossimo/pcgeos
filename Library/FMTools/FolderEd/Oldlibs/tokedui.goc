 /***************************************************************************
 *
 *	UI-File fÅr TokenEdit Library
 *	(c) by RABE-Soft 1/2000
 *
 ***************************************************************************/
@include <stdapp.goh>
//include <fileenum.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <file.h>

@include "Oldlibs/rstoked.goh"
@include "Oldlibs/locals.goh"
//include "tools/msgbox.inc"

@include "foldered.goh"

/*---------------------------------------------------------------------------
 Resourcendefinition DataResource
 EnthÑlt visMoniker usw., weil Zugriff sonst von swat mit LOCKED_BY_WRONG_THREAD
 kommentriert wird
 ---------------------------------------------------------------------------*/
@start DataResource, data;

@visMoniker IconEditMoniker = "Icon bearbeiten";
@visMoniker IconDeleteMoniker = "Icon zum Löschen auswählen";

@visMoniker IconEditApplyTriggerMoniker = 'A',"Anwenden";
@visMoniker IconEditDeleteTriggerMoniker = 'L',"Löschen";
@visMoniker IconEditDeleteAndReadyTriggerMoniker = 's',"Löschen und fertig";

@chunk char WarningDeleteToken[] = "Sind Sie sicher, dass Sie das Icon aus der Database \
entfernen wollen? Sie sollten auf jeden Fall vorher alle Fenster ihres \
Datei-Managers schließen, da es zum Systemabsturz kommt, wenn das Icon noch irgendwo \
angezeigt wird. Wollen Sie das Icon löschen?";

@chunk char ErrorDeleteToken[] = "Beim Löschen des Icons '\01' ist ein Fehler aufgetreten.";

@end DataResource;


/*---------------------------------------------------------------------------
 Resourcendefinition DialogBoxResource
 EnthÑlt die DialogBox um ein Icon zu Ñndern
 ---------------------------------------------------------------------------*/
@start DialogBoxResource;

@object IE_DialogClass IconEditDialog = {
	GI_visMoniker = "IconEdit";
	GI_comp = @IconEditMonikerList,@IconEditInfoGroup,@IconEditRangeGroup,
		@IconEditOKTrigger,@IconEditExtraTrigger;
	GI_states = @default & ~GS_USABLE;
	GII_attrs = @default | GIA_MODAL | GIA_NOT_USER_INITIATABLE
			| GIA_INITIATED_VIA_USER_DO_DIALOG;
	GII_visibility = GIV_DIALOG;
	GII_type = GIT_COMMAND;
	HINT_ORIENT_CHILDREN_VERTICALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
	}

@object GenDynamicListClass IconEditMonikerList = {
    GI_states = @default & ~GS_USABLE;
    GIGI_selection = -1;
    GIGI_applyMsg = MSG_IED_TOKEN_SELECTED;
    GIGI_destination = IconEditDialog;
    GIGI_behaviorType = GIGBT_EXCLUSIVE;
    GDLI_numItems = 0;
    GDLI_queryMsg = MSG_IED_QUERY_TOKEN;
    HINT_ORIENT_CHILDREN_HORIZONTALLY;
    HINT_EXPAND_WIDTH_TO_FIT_PARENT;
    HINT_ITEM_GROUP_SCROLLABLE;
    HINT_INITIAL_SIZE = {SST_PIXELS | 370,SST_PIXELS | 40,7};
	}

/*----------- MonikerRangeGroup ------------------------- */

@object GenInteractionClass IconEditRangeGroup = {
	GI_visMoniker = "ID-Nummer";
	GI_comp = @IEManufIDMinimumValue,@IEManufIDMaximumValue,@IEManufIDApplayTrigger;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_CENTER_CHILDREN_VERTICALLY;
	}
@object WordValueClass IEManufIDMinimumValue = {
	GI_visMoniker = "von:";
	HINT_VALUE_NAVIGATE_TO_NEXT_FIELD_ON_RETURN_PRESS;
	}
@object WordValueClass IEManufIDMaximumValue = {
	GI_visMoniker = "bis:";
	GVLI_value = 0xFFFF;
	HINT_VALUE_NAVIGATE_TO_NEXT_FIELD_ON_RETURN_PRESS;
	}
@object GenTriggerClass IEManufIDApplayTrigger = {
	GI_visMoniker = 'z',"Anzeigen";
	GTI_destination = IconEditDialog;
	GTI_actionMsg = MSG_IED_MANUFID_APPLAY_TRIGGER_SELECTED;
	}

/* ------------------------ IconInfoGroup ----------------- */

@object GenInteractionClass IconEditInfoGroup = {
	GI_comp = @IEIconInfoCount,@IEIconInfoIDLabel,@IEIconInfoIDText;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_TOP_JUSTIFY_CHILDREN;
	}

@object GenValueClass IEIconInfoCount = {
	GI_visMoniker = "Icons gefunden: ";
	GI_attrs = @default | GA_READ_ONLY;
	}
@object GenGlyphClass IEIconInfoIDLabel = {
	GI_visMoniker =" Aktuelle Icon ID:";
	}
@object GenGlyphClass IEIconInfoIDText = {
	GI_visMoniker ="-";
	}


/* ------------------------ ReplyBarTrigger ----------------- */

@object GenTriggerClass IconEditOKTrigger = {
	GI_visMoniker = "OK";
	GI_states = @default & ~GS_ENABLED;
	GI_attrs =  @default | GA_SIGNAL_INTERACTION_COMPLETE;
	ATTR_GEN_TRIGGER_INTERACTION_COMMAND = IC_OK;
	HINT_SEEK_REPLY_BAR;
	}

@object GenTriggerClass IconEditExtraTrigger = {
	GI_visMoniker = "extra";
	GI_states = @default & ~(GS_ENABLED|GS_USABLE);
	GI_attrs =  @default | GA_SIGNAL_INTERACTION_COMPLETE;
	ATTR_GEN_TRIGGER_INTERACTION_COMMAND = IC_YES;
	HINT_SEEK_REPLY_BAR;
	}

@object IE_DialogClass TokenDelDialog = {
	GI_visMoniker = "Deleter" ;
	GI_comp = @TokenDelMonikerList,@TokenDelInfoGroup,@TokenDelRangeGroup,
		@TokenDelOKTrigger,@TokenDelExtraTrigger;
	GI_states = @default & ~GS_USABLE;
	GII_attrs = @default | GIA_MODAL | GIA_NOT_USER_INITIATABLE
			| GIA_INITIATED_VIA_USER_DO_DIALOG;
	GII_visibility = GIV_DIALOG;
	GII_type = GIT_COMMAND;
	HINT_ORIENT_CHILDREN_VERTICALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
	}

@object GenDynamicListClass TokenDelMonikerList = {
    GI_states = @default & ~GS_USABLE;
    GIGI_selection = -1;
    GIGI_applyMsg = MSG_IED_TOKEN_SELECTED;
    GIGI_destination = TokenDelDialog;
    GIGI_behaviorType = GIGBT_EXCLUSIVE;
    GDLI_numItems = 0;
    GDLI_queryMsg = MSG_IED_QUERY_TOKEN;
    HINT_ORIENT_CHILDREN_HORIZONTALLY;
    HINT_EXPAND_WIDTH_TO_FIT_PARENT;
    HINT_ITEM_GROUP_SCROLLABLE;
    HINT_INITIAL_SIZE = {SST_PIXELS | 370,SST_PIXELS | 40,7};
	}

/*----------- MonikerRangeGroup ------------------------- */

@object GenInteractionClass TokenDelRangeGroup = {
	GI_visMoniker = "ID-Nummer";
	GI_comp = @TDManufIDMinimumValue,@TDManufIDMaximumValue,@TDManufIDApplayTrigger;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_CENTER_CHILDREN_VERTICALLY;
	}
@object WordValueClass TDManufIDMinimumValue = {
	GI_visMoniker = "von:";
	HINT_VALUE_NAVIGATE_TO_NEXT_FIELD_ON_RETURN_PRESS;
	}
@object WordValueClass TDManufIDMaximumValue = {
	GI_visMoniker = "bis:";
	GVLI_value = 0xFFFF;
	HINT_VALUE_NAVIGATE_TO_NEXT_FIELD_ON_RETURN_PRESS;
	}
@object GenTriggerClass TDManufIDApplayTrigger = {
	GI_visMoniker = 'z',"Anzeigen";
	GTI_destination = TokenDelDialog;
	GTI_actionMsg = MSG_IED_MANUFID_APPLAY_TRIGGER_SELECTED;
	}

/* ------------------------ IconInfoGroup ----------------- */

@object GenInteractionClass TokenDelInfoGroup = {
	GI_comp = @TDIconInfoCount,@TDIconInfoIDLabel,@TDIconInfoIDText;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_TOP_JUSTIFY_CHILDREN;
	}

@object GenValueClass TDIconInfoCount = {
	GI_visMoniker = "Icons gefunden: ";
	GI_attrs = @default | GA_READ_ONLY;
	}
@object GenGlyphClass TDIconInfoIDLabel = {
	GI_visMoniker =" Aktuelle Icon ID:";
	}
@object GenGlyphClass TDIconInfoIDText = {
	GI_visMoniker ="-";
	}


/* ------------------------ ReplyBarTrigger ----------------- */

@object GenTriggerClass TokenDelOKTrigger = {
	GI_visMoniker = "OK";
	GI_states = @default & ~GS_ENABLED;
	GTI_destination = TokenDelDialog;
	GTI_actionMsg = MSG_IED_DELETE_TOKEN;
	ATTR_GEN_TRIGGER_ACTION_DATA = 0;	/* Dialog nicht schlie·en*/
	HINT_SEEK_REPLY_BAR;
	}

@object GenTriggerClass TokenDelExtraTrigger = {
	GI_visMoniker = "extra";
	GI_states = @default & ~(GS_ENABLED|GS_USABLE);
	GTI_destination = TokenDelDialog;
	GTI_actionMsg = MSG_IED_DELETE_TOKEN;
	ATTR_GEN_TRIGGER_ACTION_DATA = 1;	/* Dialog beenden */
	HINT_SEEK_REPLY_BAR;
	}

@end DialogBoxResource;	/*-------------------------------------------------------*/


/****************************************************************************
 Template fÅr FeatureFlagSelelector, um IconEdit-Dialog einfacher zu steuern
 ****************************************************************************/
@start TemplateResource;
@object GenInteractionClass FeatureFlagsSelectorGroup = {
	GI_visMoniker = 'E',"Icon-Edit Optionen";
	GI_comp = @FeatureFlagsSelector;
	GI_states = @default & ~GS_USABLE;
	}
@object GenBooleanGroupClass FeatureFlagsSelector = {
	GI_comp = @FlagRangeGroup,@FlagInfoGroup,@FlagGSOnly,
		@FlagIconsLarge,@FlagManyIcons,@FlagWarnApply;
	GBGI_selectedBooleans = 0;
	HINT_ORIENT_CHILDREN_VERTICALLY;
	}
@object GenBooleanClass FlagRangeGroup = {
	GI_visMoniker = 'B',"ID Bereich wählbar";
	GBI_identifier = IEF_HAS_RANGE_GROUP;
	}
@object GenBooleanClass FlagInfoGroup = {
	GI_visMoniker = 'I',"Icon Informationen";
	GBI_identifier = IEF_HAS_INFO_GROUP;
	}
@object GenBooleanClass FlagGSOnly = {
	GI_visMoniker = 'g',"Nur grafische Icons";
	GBI_identifier = IEF_GSTRING_ONLY;
	}
@object GenBooleanClass FlagIconsLarge = {
	GI_visMoniker = 'P',"Platz für große Icons";
	GBI_identifier = IEF_ICONS_LARGE;
	}
@object GenBooleanClass FlagManyIcons = {
	GI_visMoniker = 'L',"Große Liste";
	GBI_identifier = IEF_LIST_LARGE;
	}
@object GenBooleanClass FlagWarnApply = {
	GI_visMoniker = 'W',"Warnung vor Anwendung";
	GBI_identifier = IEF_WARN_APPLY;
	}

/*@object GenBooleanClass  = {
	GI_visMoniker =
	GBI_identifier =
	}
  */

@end TemplateResource; 	/*-------------------------------------------------------*/


