/***********************************************************************
 *
 *
 * PROJECT:	Insulin Dose Calculator
 * MODULE:	Dose
 * FILE:		ui.goc
 * AUTHOR:	jfh  3/04
 *
 * DESCRIPTION:
 *
 *
 *
 *
 *
 *
 ***********************************************************************/

/*
 ***************************************************************************
 *		Include files
 ***************************************************************************
 */

@include "dose.goh"

/*
 ***************************************************************************
 *		UI Objects
 ***************************************************************************
 */

@start	AppResource;

@object GenDoseApplicationClass DoseApp = {
	 GI_visMoniker = list { @DoseTextMoniker }
	 GI_comp = @DosePrimary, @LogPrimary, @CarbsPrimary, @GraphPrimary,
				  @FavsPrimary;
    gcnList(MANUFACTURER_ID_GEOWORKS,GAGCNLT_WINDOWS) = @DosePrimary;
	 ATTR_GEN_HELP_FILE = "IDCalc";
}

@visMoniker DoseTextMoniker = "Insulin Bolus Calculator";

@end	AppResource

@start	Interface;

@object GenPrimaryClass DosePrimary  = {
	GI_comp = @MainScreen, @LogDBox, @CarbsDBox, @FavsDBox, @GraphDBox,
				  @OptionsMenu, @LogTrigger, @CarbsMenu, @BMITrig, @BMIDBox,
				  @EBookTrig, @OtherHistDBox;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	ATTR_GEN_HELP_CONTEXT = "TOC";
   ATTR_GEN_WINDOW_KBD_OVERRIDE = KO_KEYBOARD_REQUIRED;
	HINT_SIZE_WINDOW_AS_DESIRED;
}

@object GenInteractionClass MainScreen = {
	GI_comp = @EntryGroup, @MealGroup, @OutputGroup, @EatCarbsGV;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
	HINT_FULL_JUSTIFY_CHILDREN_VERTICALLY;
	HINT_INCLUDE_ENDS_IN_CHILD_SPACING;
   HINT_MINIMUM_SIZE = {SST_PIXELS | 230, 0}; 
}

@object GenInteractionClass EntryGroup = {
	GI_visMoniker = "Inputs";
	GI_comp = @Glucose, @Carbs;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	HINT_DRAW_IN_BOX;
	HINT_PLACE_MONIKER_ABOVE;
	HINT_CENTER_MONIKER;
	HINT_CENTER_CHILDREN_ON_MONIKERS;
	HINT_NO_WIDER_THAN_CHILDREN_REQUIRE;
}

@object GenValueClass Glucose = {
	GI_visMoniker = "Actual Glucose mg/dl:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GVLI_value = MakeWWFixed(120.0);
   HINT_FIXED_SIZE = {SST_PIXELS | 39, 0}; 
}

@object GenValueClass Carbs = {
	GI_visMoniker = "Grams of Carbohydrates:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GVLI_increment = MakeWWFixed(0.1);
	GVLI_displayFormat = GVDF_DECIMAL;
	ATTR_GEN_VALUE_DECIMAL_PLACES = 1;
}

@object GenInteractionClass MealGroup = {
	GI_visMoniker = "Meal";
	GI_comp = @MealItemGroup;
	HINT_DRAW_IN_BOX;
	HINT_PLACE_MONIKER_ABOVE;
	HINT_CENTER_MONIKER;
	HINT_NO_WIDER_THAN_CHILDREN_REQUIRE;
}

@object GenItemGroupClass MealItemGroup = {
	GI_comp = @Breakfast, @Morning, @Lunch,
				 @Afternoon, @Dinner, @Evening;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
}
@object GenItemClass Breakfast = {
	GI_visMoniker = "Brk";
	GII_identifier = BREAKFAST;
}
@object GenItemClass Morning = {
	GI_visMoniker = "Mor";
	GII_identifier = MORNING;
}
@object GenItemClass Lunch = {
	GI_visMoniker = "Lun";
	GII_identifier = LUNCH;
}
@object GenItemClass Afternoon = {
	GI_visMoniker = "Aft";
	GII_identifier = AFTERNOON;
}
@object GenItemClass Dinner = {
	GI_visMoniker = "Dnr";
	GII_identifier = DINNER;
}
@object GenItemClass Evening = {
	GI_visMoniker = "Eve";
	GII_identifier = 	EVENING;
}

@object GenInteractionClass OutputGroup = {
	GI_visMoniker = "Required Bolus Insulin Dosage";
	GI_comp = @Spacer1, @DoseGroup, @Spacer2;
	HINT_DRAW_IN_BOX;
	HINT_PLACE_MONIKER_ABOVE;
	HINT_CENTER_MONIKER;
	HINT_CENTER_CHILDREN_VERTICALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
	HINT_NO_WIDER_THAN_CHILDREN_REQUIRE;
}

@object GenInteractionClass DoseGroup = {
	GI_comp = @DoseTrigger, @Spacer3, @Dose;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_CENTER_CHILDREN_VERTICALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
}

@object GenGlyphClass Spacer1 = {
	GI_visMoniker = "   ";
}

@object GenGlyphClass Spacer2 = {
	GI_visMoniker = "   ";
}

@object GenTriggerClass DoseTrigger = {
	GI_visMoniker = "Calculate";
	GTI_actionMsg = MSG_DOSE_CALCULATE;
	GTI_destination = process;
}

@object GenGlyphClass Spacer3 = {
	GI_visMoniker = "   ";
}

@object GenValueClass Dose = {
	GI_attrs = @default | GA_READ_ONLY;
	GVLI_minimum = MakeWWFixed(-50);
	GVLI_displayFormat = GVDF_DECIMAL;
   ATTR_GEN_VALUE_DECIMAL_PLACES = 2;
}

@object GenInteractionClass LogTrigger = {
	GI_visMoniker = "Logs ";
	GI_comp = @LHistoryTrigger, @LAvgSelDBox, @LGraphTrigger,
				@LOtherHistTrig/*, @LExportTrigger*/;
	GII_visibility = GIV_POPUP;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 1;
}

/*@object GenTriggerClass LExportTrigger = {
	GI_visMoniker = "Export";
	GTI_actionMsg = MSG_DOSE_EXPORT_HISTORY;
	GTI_destination = process;
} */

@object GenTriggerClass LHistoryTrigger = {
	GI_visMoniker = "History";
	GTI_actionMsg = MSG_DOSE_OPEN_HISTORY;
	GTI_destination = process;
}

@object GenTriggerClass LGraphTrigger = {
	GI_visMoniker = "Graphs";
	GTI_actionMsg = MSG_GRAPH_OPEN_GRAPH;
	GTI_destination = @GraphContent;
}

@object GenTriggerClass LOtherHistTrig = {
	GI_visMoniker = "Health";
	GTI_actionMsg = MSG_GEN_INTERACTION_INITIATE;
	GTI_destination = @OtherHistDBox;
   HINT_TRIGGER_BRINGS_UP_WINDOW;
}

@object GenInteractionClass CarbsMenu = {
	GI_visMoniker = "Carbs";
	GI_comp = @CarbsTrigger, @FavsTrigger;
	GII_visibility = GIV_POPUP;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 2;
}

@object GenTriggerClass CarbsTrigger = {
	GI_visMoniker = "Full List";
	GTI_actionMsg = MSG_CARBS_OPEN_CARBS;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass FavsTrigger = {
	GI_visMoniker = "Favorites";
	GTI_actionMsg = MSG_FAVS_OPEN_FAVS;
	GTI_destination = @FavsDList;
}

@object GenInteractionClass OptionsMenu = {
	GI_visMoniker = "Opts ";
	GI_comp = @TweaksDBox, @SaveOptsDBox, @MealTimesDBox;
	GII_visibility = GIV_POPUP;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 0;
}

@object GenTriggerClass BMITrig = {
	GI_visMoniker = "BMI";
	GTI_actionMsg = MSG_DOSE_OPEN_BMI_CALC;
	GTI_destination = process;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 3;
}

@object GenTriggerClass EBookTrig = {
	GI_visMoniker = "Info";
	GTI_actionMsg = MSG_DOSE_OPEN_EBOOK;
	GTI_destination = process;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 4;
}

/* this is here only to convert a WWFixed number to ASCII text
	for the amount of carbs to eat - and not usable */
@object GenValueClass EatCarbsGV = {
	GI_states = @default & ~GS_USABLE;
	GVLI_increment = MakeWWFixed(0.1);
	GVLI_displayFormat = GVDF_DECIMAL;
	ATTR_GEN_VALUE_DECIMAL_PLACES = 1;
}

@end Interface;

@start SetupResource;
@object GenInteractionClass TweaksDBox = {
	GI_visMoniker = "Setup";
	GI_comp = @CorrSens, @ItoCRatio, @CorrTo,
				 @SetupApplyTrigger, @SetupCanxTrigger;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	HINT_CENTER_CHILDREN_ON_MONIKERS;
	ATTR_GEN_HELP_CONTEXT = "SetupDB";
	ATTR_GEN_WINDOW_KBD_OVERRIDE = KO_KEYBOARD_REQUIRED;
/*	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 0; */
}

@object GenValueClass CorrSens = {
	 GI_visMoniker = "Correction Sensitivity:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	 GVLI_value = MakeWWFixed(25.0);
}

@object GenValueClass ItoCRatio = {
	 GI_visMoniker = "Insulin to Carbs Ratio:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	 GVLI_value = MakeWWFixed(15.0);
}

@object GenValueClass CorrTo = {
	 GI_visMoniker = "Glucose Correction To:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	 GVLI_value = MakeWWFixed(120.0);
}
@object GenTriggerClass SetupApplyTrigger = {
	GI_visMoniker = "Apply";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_DOSE_APPLY_SETTINGS;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass SetupCanxTrigger = {
	GI_visMoniker = "Cancel";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}

@end SetupResource;

@start SaveResource;
@object GenInteractionClass SaveOptsDBox = {
	GI_visMoniker = "Saving";
	GI_comp = @SaveGroup;
	GII_visibility = GIV_DIALOG;
	GII_type = GIT_NOTIFICATION;
	ATTR_GEN_HELP_CONTEXT = "SavingDB";
}

@object GenBooleanGroupClass SaveGroup = {
	GI_comp = @RecordBoolean;
	GBGI_selectedBooleans = RB_RECORD;
	GBGI_destination = process;
	ATTR_GEN_BOOLEAN_GROUP_STATUS_MSG = MSG_DOSE_LOG_BOOLEAN_STATUS;
}

@object GenBooleanClass RecordBoolean = {
	 GI_visMoniker = "Automatically log doses";
	 GBI_identifier = RB_RECORD;
}
@end SaveResource;

@start MealResource;
@object GenInteractionClass MealTimesDBox = {
	GI_visMoniker = "Meal Times";
	GI_comp = @BrkfstStart, @MornStart, @LunchStart,
				 @AftnoonStart, @DinnerStart, @EveningStart,
				 @MTCancel, @MTApply;
/*	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
*/	GII_visibility = GIV_DIALOG;
	ATTR_GEN_HELP_CONTEXT = "MealsDB";
	HINT_CENTER_CHILDREN_ON_MONIKERS;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
}

@object TimeInputClass BrkfstStart = {
	GI_visMoniker = "Breakfast:";
/*	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
*/	GCI_output = process;
	TII_actionMsg = MSG_DOSE_MEAL_TIMES_APPLY;
	TII_incrementValue = 15;
	HINT_MAXIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 10, 0};
}
@object TimeInputClass MornStart = {
	GI_visMoniker = "Morning:";
	GCI_output = process;
	TII_actionMsg = MSG_DOSE_MEAL_TIMES_APPLY;
	TII_incrementValue = 15;
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 10, 0};
}
@object TimeInputClass LunchStart = {
	GI_visMoniker = "Lunch:";
	GCI_output = process;
	TII_actionMsg = MSG_DOSE_MEAL_TIMES_APPLY;
	TII_incrementValue = 15;
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 10, 0};
}
@object TimeInputClass AftnoonStart = {
	GI_visMoniker = "Afternoon:";
	GCI_output = process;
	TII_actionMsg = MSG_DOSE_MEAL_TIMES_APPLY;
	TII_incrementValue = 15;
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 10, 0};
}
@object TimeInputClass DinnerStart = {
	GI_visMoniker = "Dinner:";
	GCI_output = process;
	TII_actionMsg = MSG_DOSE_MEAL_TIMES_APPLY;
	TII_incrementValue = 15;
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 10, 0};
}
@object TimeInputClass EveningStart = {
	GI_visMoniker = "Evening:";
	GCI_output = process;
	TII_actionMsg = MSG_DOSE_MEAL_TIMES_APPLY;
	TII_incrementValue = 15;
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 10, 0};
}
@object GenTriggerClass MTApply = {
	GI_visMoniker = "Apply";
	GTI_actionMsg = MSG_DOSE_APPLY_MEAL_TIMES;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}
@object GenTriggerClass MTCancel = {
	GI_visMoniker = "Cancel";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_DOSE_CLOSE_MEAL_TIMES;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}
@end MealResource;

@start LogResource;
/* use this for OG */
@object GenLogPrimaryClass LogPrimary  = {
	GI_comp = @LogGroup, @ClearTrigger;
	GI_states = @default & ~GS_USABLE;
	ATTR_GEN_DISPLAY_MAXIMIZED_STATE;
	ATTR_GEN_HELP_CONTEXT = "Log";
}

/* and this for desktop */
@object GenInteractionClass LogDBox  = {
	GI_visMoniker = "Insulin Dose Log";
	GI_comp = @CloseDBTrigger, @ClearDBTrigger;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
	ATTR_GEN_HELP_CONTEXT = "Log";
}

@object GenInteractionClass LogGroup  = {
	GI_comp = @LogTitles, @LogDList;
	GI_states = @default & ~GS_USABLE;   
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
}

@object GenGlyphClass LogTitles = {
	GI_visMoniker = " ";
}

@object GenDynamicListClass LogDList = {
	GIGI_destination = process;
	GIGI_behaviorType = GIGBT_EXCLUSIVE_NONE;
	GDLI_queryMsg = MSG_DOSE_LOG_DLIST_MONIKER_QUERY;
	HINT_ITEM_GROUP_SCROLLABLE;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_MINIMUM_SIZE = {SST_PIXELS | 215, SST_PIXELS | 15};
	HINT_INITIAL_SIZE = {SST_PIXELS | 215, SST_LINES_OF_TEXT | 11};
}

@object GenTriggerClass ClearTrigger = {
	GI_visMoniker = "Clear";
	GTI_actionMsg = MSG_DOSE_CLEAR_LOG;
	GTI_destination = process;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 0;
}

@object GenTriggerClass CloseDBTrigger = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_DOSE_CLOSE_LOG;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass ClearDBTrigger = {
	GI_visMoniker = "Clear";
	GTI_actionMsg = MSG_DOSE_CLEAR_LOG;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}

@end LogResource;

@start GraphResource;
/* use this for OG */
@object GenGraphPrimaryClass GraphPrimary  = {
	GI_comp = @GraphView, @GScrollPLeft, @GScrollDLeft,
				 @GScrollDRight, @GScrollPRight, @GOptionsTrigger;
	GI_states = @default & ~GS_USABLE;
	ATTR_GEN_DISPLAY_MAXIMIZED_STATE;
	ATTR_GEN_HELP_CONTEXT = "Graph";
}

/* and this for desktop */
@object GenInteractionClass GraphDBox  = {
	GI_visMoniker = "Insulin Dose Graph";
	GI_comp = /*@GDBTypeGroup,*/ @GDBScrollPLeft, @GDBScrollDLeft, @GDBScrollDRight,
				 @GDBScrollPRight, @GCloseDBTrigger;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE/* | GIA_MODAL*/;
	ATTR_GEN_HELP_CONTEXT = "Graph";
	HINT_WINDOW_NO_SYS_MENU;
}

@object GenViewClass GraphView = {
	GVI_content = @GraphContent;
	GVI_docBounds = {0, 0, DOC_WIDTH, DOC_HEIGHT};
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
}

@object VisGraphContentClass GraphContent = {
	VCI_geoAttrs = @default | VCGA_CUSTOM_MANAGE_CHILDREN;
	VI_bounds = {0, 0, DOC_WIDTH, DOC_HEIGHT};
}

@object GenTriggerClass GScrollPLeft = {
	GI_visMoniker = "<--";
	GTI_actionMsg = MSG_GRAPH_PAGE_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 0;
}

@object GenTriggerClass GScrollDLeft = {
	GI_visMoniker = "<-";
	GTI_actionMsg = MSG_GRAPH_DAY_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 1;
}

@object GenTriggerClass GScrollDRight = {
	GI_visMoniker = "->";
	GTI_actionMsg = MSG_GRAPH_DAY_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 2;
}

@object GenTriggerClass GScrollPRight = {
	GI_visMoniker = "-->";
	GTI_actionMsg = MSG_GRAPH_PAGE_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 3;
}

@object GenInteractionClass GOptionsTrigger = {
	GI_visMoniker = "Opts";
	GI_comp = @GLimitsDbox, @GLinesDbox, @GTypeGroup;
	GI_states = @default & ~GS_USABLE;
	GII_visibility = GIV_POPUP;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 4;
}

@object GenInteractionClass GLimitsDbox = {
	GI_visMoniker = "Limits";
	GI_comp = @GLDBUpper, @GLDBLower, @GLDBCancel, @GLDBApply;
	GII_visibility = GIV_DIALOG;
	ATTR_GEN_HELP_CONTEXT = "Limits";
}
@object GenValueClass GLDBUpper = {
	GI_visMoniker = "Upper Limit:";
	GVLI_maximum = MakeWWFixed(290);
	GVLI_minimum = MakeWWFixed(120);
}
@object GenValueClass GLDBLower = {
	GI_visMoniker = "Lower Limit:";
	GVLI_maximum = MakeWWFixed(120);
	GVLI_minimum = MakeWWFixed(60);
}
@object GenTriggerClass GLDBCancel = {
	GI_visMoniker = "Cancel";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}
@object GenTriggerClass GLDBApply = {
	GI_visMoniker = "Apply";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_GRAPH_SET_NEW_LIMITS;
	GTI_destination = @GraphContent;
	HINT_SEEK_REPLY_BAR;
}

@object GenInteractionClass GLinesDbox = {
	GI_visMoniker = "Lines";
	GI_comp = @LinesGroup;
	GII_visibility = GIV_DIALOG;
	GII_type = GIT_NOTIFICATION;
	ATTR_GEN_HELP_CONTEXT = "Graph";
}

@object GenBooleanGroupClass LinesGroup = {
	GI_comp = @LinesBoolean;
	GBGI_selectedBooleans = DRAW_LINES;
	GBGI_destination = @GraphContent;
	ATTR_GEN_BOOLEAN_GROUP_STATUS_MSG = MSG_GRAPH_LINES_BOOLEAN_STATUS;
}

@object GenBooleanClass LinesBoolean = {
	 GI_visMoniker = "Draw lines between points.";
	 GBI_identifier = DRAW_LINES;
}

@object GenItemGroupClass GTypeGroup = {
	GI_comp = @GTMealsItem, @GTDaysItem;
	GIGI_selection = GT_MEALS;
	GIGI_applyMsg = MSG_GRAPH_TYPE_APPLY;
	GIGI_destination = @GraphContent;
}
@object GenItemClass GTMealsItem = {
	GI_visMoniker = "Meals";
	GII_identifier = GT_MEALS;
}
@object GenItemClass GTDaysItem = {
	GI_visMoniker = "Days";
	GII_identifier = GT_DAYS;
}

@object GenItemGroupClass GDBTypeGroup = {
	GI_comp = @GDBTMealsItem, @GDBTDaysItem;
	GIGI_selection = GT_MEALS;
	GIGI_applyMsg = MSG_GRAPH_TYPE_APPLY;
	GIGI_destination = @GraphContent;
}
@object GenItemClass GDBTMealsItem = {
	GI_visMoniker = "Meals";
	GII_identifier = GT_MEALS;
}
@object GenItemClass GDBTDaysItem = {
	GI_visMoniker = "Days";
	GII_identifier = GT_DAYS;
}

@object GenTriggerClass GDBScrollPLeft = {
	GI_visMoniker = "<--";
	GTI_actionMsg = MSG_GRAPH_PAGE_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass GDBScrollDLeft = {
	GI_visMoniker = "<-";
	GTI_actionMsg = MSG_GRAPH_DAY_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass GDBScrollDRight = {
	GI_visMoniker = "->";
	GTI_actionMsg = MSG_GRAPH_DAY_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass GDBScrollPRight = {
	GI_visMoniker = "-->";
	GTI_actionMsg = MSG_GRAPH_PAGE_SCROLL;
	GTI_destination = @GraphContent;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass GCloseDBTrigger = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_GRAPH_CLOSE_DBOX;
	GTI_destination = @GraphContent;
	HINT_SEEK_REPLY_BAR;
}

@end GraphResource;

@start AvgResource;
@object GenInteractionClass LAvgSelDBox = {
	GI_visMoniker = "Averages";
	GI_comp = @AvgInstr1, @AvgInstr2, @AvgSpan,
				 @AvgReply, @AvgDisplayDBox;
	GII_visibility = GIV_DIALOG;
	ATTR_GEN_HELP_CONTEXT = "AverageCalc";
	HINT_CENTER_CHILDREN_HORIZONTALLY;
}

@object GenGlyphClass AvgInstr1 = {
	GI_visMoniker = "Select the time period";
}

@object GenGlyphClass AvgInstr2 = {
	GI_visMoniker = "to average.";
}


@object GenInteractionClass AvgSpan = {
	GI_visMoniker = "Time Span";
	GI_comp = @AvgSpanGroup;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_DRAW_IN_BOX;
	HINT_CENTER_MONIKER;
	HINT_PLACE_MONIKER_ABOVE;
   HINT_NO_TALLER_THAN_CHILDREN_REQUIRE;
}

@object GenItemGroupClass AvgSpanGroup = {
	GI_comp = @ADay, @AWeek, @A14Days,
				 @A30Days, @A60Days, @A90Days;
	GIGI_selection = A_7;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
	HINT_WRAP_AFTER_CHILD_COUNT = 3;
}
@object GenItemClass ADay = {
	GI_visMoniker = "1 Day";
	GII_identifier = A_1;
}
@object GenItemClass AWeek = {
	GI_visMoniker = "7 Days";
	GII_identifier = A_7;
}
@object GenItemClass A14Days = {
	GI_visMoniker = "14 Days";
	GII_identifier = A_14;
}
@object GenItemClass A30Days = {
	GI_visMoniker = "30 Days";
	GII_identifier = A_30;
}
@object GenItemClass A60Days = {
	GI_visMoniker = "60 Days";
	GII_identifier = A_60;
}
@object GenItemClass A90Days = {
	GI_visMoniker = "90 Days";
	GII_identifier = 	A_90;
}

@object GenInteractionClass AvgReply = {
	GI_comp = @AvgCalc, @AvgClose;
	HINT_MAKE_REPLY_BAR;
}
@object GenTriggerClass AvgCalc = {
	GI_visMoniker = "Calculate";
	GTI_actionMsg = MSG_DOSE_CALCULATE_AVG;
	GTI_destination = process;
}

@object GenTriggerClass AvgClose = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
}

@visMoniker AvgDB1Moniker = "1 Day Averages";
@visMoniker AvgDB7Moniker = "7 Day Averages";
@visMoniker AvgDB14Moniker = "14 Day Averages";
@visMoniker AvgDB30Moniker = "30 Day Averages";
@visMoniker AvgDB60Moniker = "60 Day Averages";
@visMoniker AvgDB90Moniker = "90 Day Averages";
@object GenInteractionClass AvgDisplayDBox = {
	GI_comp = @ADBBreakfast, @ADBMorning, @ADBLunch, @ADBAfternoon,
				 @ADBDinner, @ADBEvening, @ADBAll, @ADBA1C;
	GII_visibility = GIV_DIALOG;
	GII_type = GIT_NOTIFICATION;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
	ATTR_GEN_HELP_CONTEXT = "AverageDisplay";
	HINT_CENTER_CHILDREN_ON_MONIKERS;
	HINT_MINIMUM_SIZE = {SST_PIXELS | 220, 0};
}

@chunk VisTextParaAttr AvgParaAttrs =
	PARA_ATTR_STYLE_JUST_LEFT_RIGHT_PARA(0, 0, J_RIGHT, 0, 0, 0);

@object GenInteractionClass ADBBreakfast = {
	GI_visMoniker = "Breakfast: ";
	GI_comp = @ADBBreakfastAvg, @ADBBreakfastNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBBreakfastAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBBreakfastNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBMorning = {
	GI_visMoniker = "Morning: ";
	GI_comp = @ADBMorningAvg, @ADBMorningNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBMorningAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBMorningNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBLunch = {
	GI_visMoniker = "Lunch: ";
	GI_comp = @ADBLunchAvg, @ADBLunchNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBLunchAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBLunchNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBAfternoon = {
	GI_visMoniker = "Afternoon: ";
	GI_comp = @ADBAfternoonAvg, @ADBAfternoonNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBAfternoonAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBAfternoonNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBDinner = {
	GI_visMoniker = "Dinner: ";
	GI_comp = @ADBDinnerAvg, @ADBDinnerNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBDinnerAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBDinnerNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBEvening = {
	GI_visMoniker = "Evening: ";
	GI_comp = @ADBEveningAvg, @ADBEveningNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBEveningAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBEveningNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBAll = {
	GI_visMoniker = "All: ";
	GI_comp = @ADBAllAvg, @ADBAllNum;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBAllAvg = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenTextClass ADBAllNum = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}
@object GenInteractionClass ADBA1C = {
	GI_visMoniker = "A1C: ";
	GI_comp = @ADBA1CPct;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
}
@object GenTextClass ADBA1CPct = {
	GI_attrs = @default | GA_READ_ONLY;
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	ATTR_GEN_TEXT_PARA_ATTR = (ChunkHandle) @AvgParaAttrs;
	HINT_MINIMUM_SIZE = {SST_AVG_CHAR_WIDTHS | 6, 0};
}

@end AvgResource;

@start CarbsResource;
/* use this for OG */
@object GenCarbsPrimaryClass CarbsPrimary  = {
	GI_comp = @CarbsGroup, @CDetailTrigger, @CEditTrigger,
				 @CFavTrigger;
	GI_states = @default & ~GS_USABLE;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	ATTR_GEN_DISPLAY_MAXIMIZED_STATE;
	ATTR_GEN_HELP_CONTEXT = "Carbs";
}

/* and this for desktop */
@object GenInteractionClass CarbsDBox  = {
	GI_visMoniker = "Carbs Database";
	GI_comp = @CDBEditTrigger, @CDBDetailTrigger, @CDBFavTrigger, @CDBCloseTrigger;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
	ATTR_GEN_HELP_CONTEXT = "Carbs";
}

@object GenInteractionClass CarbsGroup  = {
	GI_comp = @CarbsDList, @CarbsDetailsDBox, @CarbsAddDBox, @FavCopiedDBox;
	GI_states = @default & ~GS_USABLE;   
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
}

@object CarbsGenDynamicListClass CarbsDList = {
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GIGI_destination = @CarbsDList;
   GIGI_numSelections = 1; 
	GDLI_queryMsg = MSG_CARBS_DLIST_MONIKER_QUERY;
	HINT_ITEM_GROUP_SCROLLABLE;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_MINIMUM_SIZE = {SST_PIXELS | 215, 30};
	HINT_INITIAL_SIZE = {SST_PIXELS | 215, SST_PIXELS | (30 * 6)};
	HINT_DEFAULT_FOCUS;
	HINT_DEFAULT_TARGET;

}

@object GenTriggerClass CDetailTrigger = {
	GI_visMoniker = "Show";
	GTI_actionMsg = MSG_CARBS_OPEN_CARBS_DETAILS;
	GTI_destination = @CarbsDList;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 0;
}

@object GenInteractionClass CEditTrigger = {
	GI_visMoniker = "Edit ";
	GI_comp = @CAddNewTrigger, @CDeleteTrigger, @CModTrigger;
	GII_visibility = GIV_POPUP;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 1;
}

@object GenTriggerClass CFavTrigger = {
	GI_visMoniker = "Favs";
	GTI_actionMsg = MSG_CARBS_ADD_TO_FAVS;
	GTI_destination = @CarbsDList;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 2;
}

@object GenTriggerClass CAddNewTrigger = {
	GI_visMoniker = "Add";
	GTI_actionMsg = MSG_CARBS_OPEN_ADD_CARBS;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass CDeleteTrigger = {
	GI_visMoniker = "Delete";
	GTI_actionMsg = MSG_CARBS_DELETE_FROM_CARBS;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass CModTrigger = {
	GI_visMoniker = "Modify";
	GTI_actionMsg = MSG_CARBS_OPEN_MODIFY_CARBS_ITEM;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass CDBDetailTrigger = {
	GI_visMoniker = "Show";
	GTI_actionMsg = MSG_CARBS_OPEN_CARBS_DETAILS;
	GTI_destination = @CarbsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenInteractionClass CDBEditTrigger = {
	GI_visMoniker = "Edit ";
	GI_comp = @CDBAddNewTrigger, @CDBDeleteTrigger, @CDBModTrigger;
	GII_visibility = GIV_POPUP;
}

@object GenTriggerClass CDBAddNewTrigger = {
	GI_visMoniker = "Add";
	GTI_actionMsg = MSG_CARBS_OPEN_ADD_CARBS;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass CDBDeleteTrigger = {
	GI_visMoniker = "Delete";
	GTI_actionMsg = MSG_CARBS_DELETE_FROM_CARBS;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass CDBModTrigger = {
	GI_visMoniker = "Modify";
	GTI_actionMsg = MSG_CARBS_OPEN_MODIFY_CARBS_ITEM;
	GTI_destination = @CarbsDList;
}

@object GenTriggerClass CDBFavTrigger = {
	GI_visMoniker = "Favs";
	GTI_actionMsg = MSG_CARBS_ADD_TO_FAVS;
	GTI_destination = @CarbsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass CDBCloseTrigger = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_CARBS_CLOSE_CARBS;
	GTI_destination = @CarbsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenDetailsInteractionClass CarbsDetailsDBox  = {
	GI_visMoniker = "Carbs Details";
	GI_comp = @CDFood, @CDPortion, @CDCarbs, @CDPrevButton,
				 @CDCloseButton, @CDNextButton;
	GI_attrs = @default | GA_READ_ONLY;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
	ATTR_GEN_HELP_CONTEXT = "CarbsDetails";
}

@object GenTextClass CDFood = {
	 GI_visMoniker = "Food Item";
	GI_attrs = @default | GA_READ_ONLY;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
	 HINT_TEXT_FRAME;
	HINT_MINIMUM_SIZE = {0, SST_LINES_OF_TEXT | 3};
}

@object GenTextClass CDPortion = {
	 GI_visMoniker = "Portion";
	GI_attrs = @default | GA_READ_ONLY;
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
	 HINT_TEXT_FRAME;
}

@object GenTextClass CDCarbs = {
	 GI_visMoniker = "Carbs";
	GI_attrs = @default | GA_READ_ONLY;
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
	 HINT_TEXT_FRAME;
}

@object GenTriggerClass CDPrevButton = {
	GI_visMoniker = "Prev";
	GTI_actionMsg = MSG_CARBS_PREV_NEXT_DETAIL;
	GTI_destination = @CarbsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass CDCloseButton = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass CDNextButton = {
	GI_visMoniker = "Next";
	GTI_actionMsg = MSG_CARBS_PREV_NEXT_DETAIL;
	GTI_destination = @CarbsDList;
	HINT_SEEK_REPLY_BAR;
}

@visMoniker AddDBoxMoniker = "Add to Carbs list";
@visMoniker ModDBoxMoniker = "Modify Carbs item";
@object GenInteractionClass CarbsAddDBox = {
	GI_comp = @CAFood, @CAPortion, @CACarbs,
				 @CAAddButton, @CACancelButton;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
   ATTR_GEN_WINDOW_KBD_OVERRIDE = KO_KEYBOARD_REQUIRED;
}

@object GenTextClass CAFood = {
	 GI_visMoniker = "Food Item";
	 GTXI_maxLength = FOOD_MAX - 1;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
}

@object GenTextClass CAPortion = {
	 GI_visMoniker = "Portion";
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 GTXI_maxLength = PORTION_MAX - 1;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
}
@object GenTextClass CACarbs = {
	 GI_visMoniker = "Carbs";
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 GTXI_maxLength = CARBS_MAX - 1;
	 ATTR_GEN_TEXT_SIGNED_DECIMAL;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
}

@visMoniker AddDBoxTriggerMoniker = "Add";
@visMoniker ModDBoxTriggerMoniker = "Modify";
@object GenTriggerClass CAAddButton = {
	GTI_destination = @CarbsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass CACancelButton = {
	GI_visMoniker = "Cancel";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}

@object GenInteractionClass FavCopiedDBox = {
	GI_visMoniker = "Copy";
	GI_comp = @FCGlyph;
	GII_type = GIT_NOTIFICATION;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
}
@object GenGlyphClass FCGlyph = {
	GI_visMoniker = "Item copied to Favorites.";
}
@end CarbsResource;

@start FavsResource;
/* use this for OG */
@object GenFavsPrimaryClass FavsPrimary  = {
	GI_comp = @FavsGroup, @FDetailTrigger, @FEditTrigger;
	GI_states = @default & ~GS_USABLE;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	ATTR_GEN_DISPLAY_MAXIMIZED_STATE;
	ATTR_GEN_HELP_CONTEXT = "Favs";
}

/* and this for desktop */
@object GenInteractionClass FavsDBox  = {
	GI_visMoniker = "Favorites Database";
	GI_comp = @FDBEditTrigger, @FDBDetailTrigger, @FDBCloseTrigger;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE /*| GIA_MODAL*/;
	ATTR_GEN_HELP_CONTEXT = "Favs";
}

@object GenInteractionClass FavsGroup  = {
	GI_comp = @FavsDList, @FavsDetailsDBox, @FavsAddDBox;
	GI_states = @default & ~GS_USABLE;   
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
}

@object FavsGenDynamicListClass FavsDList = {
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GIGI_destination = @FavsDList;
	GDLI_queryMsg = MSG_FAVS_DLIST_MONIKER_QUERY;
	HINT_ITEM_GROUP_SCROLLABLE;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_MINIMUM_SIZE = {SST_PIXELS | 215, 30};
	HINT_INITIAL_SIZE = {SST_PIXELS | 215, SST_PIXELS | (30 * 6)};
	HINT_DEFAULT_FOCUS;
	HINT_DEFAULT_TARGET;

}

@object GenTriggerClass FDetailTrigger = {
	GI_visMoniker = "Show";
	GTI_actionMsg = MSG_FAVS_OPEN_FAVS_DETAILS;
	GTI_destination = @FavsDList;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 0;
}

@object GenInteractionClass FEditTrigger = {
	GI_visMoniker = "Edit ";
	GI_comp = @FAddNewTrigger, @FDeleteTrigger, @FModTrigger;
	GII_visibility = GIV_POPUP;
	HINT_SEEK_MENU_BAR;
	HINT_SEEK_SLOT = 1;
}

@object GenTriggerClass FAddNewTrigger = {
	GI_visMoniker = "Add";
	GTI_actionMsg = MSG_FAVS_OPEN_ADD_FAVS;
	GTI_destination = @FavsDList;
}

@object GenTriggerClass FDeleteTrigger = {
	GI_visMoniker = "Delete";
	GTI_actionMsg = MSG_FAVS_DELETE_FROM_FAVS;
	GTI_destination = @FavsDList;
}

@object GenTriggerClass FModTrigger = {
	GI_visMoniker = "Modify";
	GTI_actionMsg = MSG_FAVS_OPEN_MODIFY_FAVS_ITEM;
	GTI_destination = @FavsDList;
}

@object GenTriggerClass FDBDetailTrigger = {
	GI_visMoniker = "Show";
	GTI_actionMsg = MSG_FAVS_OPEN_FAVS_DETAILS;
	GTI_destination = @FavsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenInteractionClass FDBEditTrigger = {
	GI_visMoniker = "Edit ";
	GI_comp = @FDBAddNewTrigger, @FDBDeleteTrigger, @FDBModTrigger;
	GII_visibility = GIV_POPUP;
}

@object GenTriggerClass FDBAddNewTrigger = {
	GI_visMoniker = "Add";
	GTI_actionMsg = MSG_FAVS_OPEN_ADD_FAVS;
	GTI_destination = @FavsDList;
}

@object GenTriggerClass FDBDeleteTrigger = {
	GI_visMoniker = "Delete";
	GTI_actionMsg = MSG_FAVS_DELETE_FROM_FAVS;
	GTI_destination = @FavsDList;
}

@object GenTriggerClass FDBModTrigger = {
	GI_visMoniker = "Modify";
	GTI_actionMsg = MSG_FAVS_OPEN_MODIFY_FAVS_ITEM;
	GTI_destination = @FavsDList;
}

@object GenTriggerClass FDBCloseTrigger = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_FAVS_CLOSE_FAVS;
	GTI_destination = @FavsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenFDetailsInteractionClass FavsDetailsDBox  = {
	GI_visMoniker = "Favorites Details";
	GI_comp = @FDFood, @FDPortion, @FDCarbs, @FDPrevButton,
				 @FDCloseButton, @FDNextButton;
	GI_attrs = @default | GA_READ_ONLY;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
	ATTR_GEN_HELP_CONTEXT = "FavsDetails";
}

@object GenTextClass FDFood = {
	 GI_visMoniker = "Food Item";
	GI_attrs = @default | GA_READ_ONLY;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
	 HINT_TEXT_FRAME;
	HINT_MINIMUM_SIZE = {0, SST_LINES_OF_TEXT | 3};
}

@object GenTextClass FDPortion = {
	 GI_visMoniker = "Portion";
	GI_attrs = @default | GA_READ_ONLY;
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
	 HINT_TEXT_FRAME;
}

@object GenTextClass FDCarbs = {
	 GI_visMoniker = "Carbs";
	GI_attrs = @default | GA_READ_ONLY;
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
	 HINT_TEXT_FRAME;
}

@object GenTriggerClass FDPrevButton = {
	GI_visMoniker = "Prev";
	GTI_actionMsg = MSG_FAVS_PREV_NEXT_DETAIL;
	GTI_destination = @FavsDList;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass FDCloseButton = {
	GI_visMoniker = "Close";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}

@object GenTriggerClass FDNextButton = {
	GI_visMoniker = "Next";
	GTI_actionMsg = MSG_FAVS_PREV_NEXT_DETAIL;
	GTI_destination = @FavsDList;
	HINT_SEEK_REPLY_BAR;
}

@visMoniker FAddDBoxMoniker = "Add to Favorites list";
@visMoniker FModDBoxMoniker = "Modify Favorites item";
@object GenInteractionClass FavsAddDBox = {
	GI_comp = @FAFood, @FAPortion, @FACarbs,
				 @FAAddButton, @FACancelButton;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE | GIA_MODAL;
   ATTR_GEN_WINDOW_KBD_OVERRIDE = KO_KEYBOARD_REQUIRED;
}

@object GenTextClass FAFood = {
	 GI_visMoniker = "Food Item";
	 GTXI_maxLength = FOOD_MAX - 1;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
}

@object GenTextClass FAPortion = {
	 GI_visMoniker = "Portion";
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 GTXI_maxLength = PORTION_MAX - 1;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
}
@object GenTextClass FACarbs = {
	 GI_visMoniker = "Carbs";
	 GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	 GTXI_maxLength = CARBS_MAX - 1;
	 ATTR_GEN_TEXT_SIGNED_DECIMAL;
	 HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	 HINT_PLACE_MONIKER_ABOVE;
}

@visMoniker FAddDBoxTriggerMoniker = "Add";
@visMoniker FModDBoxTriggerMoniker = "Modify";
@object GenTriggerClass FAAddButton = {
	GTI_destination = @FavsDList;
	HINT_SEEK_REPLY_BAR;
   ATTR_GEN_TRIGGER_ACTION_DATA = DO_UI;
}

@object GenTriggerClass FACancelButton = {
	GI_visMoniker = "Cancel";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}

@end FavsResource;

@start OtherHistResource;
@object GenInteractionClass OtherHistDBox = {
	GI_visMoniker = "Health History";
	GI_comp = @OHItemsGroup, @OHEnterTrigger, @OHViewTrigger,
				@OtherHistEntryDBox, @OtherHistViewDBox;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE;
	HINT_CENTER_CHILDREN_ON_MONIKERS;
	ATTR_GEN_HELP_CONTEXT = "OtherHistDB";
/*	ATTR_GEN_WINDOW_KBD_OVERRIDE = KO_KEYBOARD_REQUIRED; */
}

@object GenItemGroupClass OHItemsGroup = {
	GI_comp = @OHBPItem, @OHA1CItem, @OHMAItem, @OHTotCItem, @OHHDLItem,
				 @OHLDLItem, @OHTriGItem, @OHWeightItem, @OHBMIItem;
	GIGI_selection = 0;
	HINT_ORIENT_CHILDREN_VERTICALLY;
}
@visMoniker OHBPItemMon = "Blood Pressure";
@object GenItemClass OHBPItem = {
	GI_visMoniker = @OHBPItemMon;
	GII_identifier = 0;
}
@visMoniker OHA1CItemMon = "Hemoglobin A1C";
@object GenItemClass OHA1CItem = {
	GI_visMoniker = @OHA1CItemMon;
	GII_identifier = 1;
}
@visMoniker OHMAItemMon =  "Microalbumin";
@object GenItemClass OHMAItem = {
	GI_visMoniker = @OHMAItemMon;
	GII_identifier = 2;
}
@visMoniker OHTotCItemMon =  "Total Cholesterol";
@object GenItemClass OHTotCItem = {
	GI_visMoniker = @OHTotCItemMon;
	GII_identifier = 3;
}
@visMoniker OHHDLItemMon =  "HDL";
@object GenItemClass OHHDLItem = {
	GI_visMoniker = @OHHDLItemMon;
	GII_identifier = 4;
}
@visMoniker OHLDLItemMon =  "LDL";
@object GenItemClass OHLDLItem = {
	GI_visMoniker = @OHLDLItemMon;
	GII_identifier = 5;
}
@visMoniker OHTriGItemMon =  "Triglycerides";
@object GenItemClass OHTriGItem = {
	GI_visMoniker = @OHTriGItemMon;
	GII_identifier = 6;
}
@visMoniker OHWeightItemMon =  "Weight";
@object GenItemClass OHWeightItem = {
	GI_visMoniker = @OHWeightItemMon;
	GII_identifier = 7;
}
@visMoniker OHBMIItemMon =  "BMI";
@object GenItemClass OHBMIItem = {
	GI_visMoniker = @OHBMIItemMon;
	GII_identifier = 8;
}

@object GenTriggerClass OHEnterTrigger = {
	GI_visMoniker = "Enter";
	GTI_actionMsg = MSG_DOSE_OPEN_ENTER_OTHER_HIST;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}
@object GenTriggerClass OHViewTrigger = {
	GI_visMoniker = "View";
	GTI_actionMsg = MSG_DOSE_VIEW_OTHER_HIST;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}

@object GenInteractionClass OtherHistEntryDBox = {
	GI_visMoniker = "Enter Item";
	GI_comp = @OHEText, @OHEDate, @OHEEnterTrigger, @OHECanxTrigger;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE;
	ATTR_GEN_HELP_CONTEXT = "OtherHistEntDB";
	HINT_CENTER_CHILDREN_HORIZONTALLY;
/*   HINT_NO_WIDER_THAN_CHILDREN_REQUIRE; */
}

@object GenTextClass OHEText = {
	GTXI_attrs = @default | GTA_SINGLE_LINE_TEXT;
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 20, 0};
	HINT_PLACE_MONIKER_ABOVE;
}
@object DateInputClass OHEDate = {
	GI_visMoniker = "Date:";
/*	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH; */
	HINT_FIXED_SIZE = {SST_AVG_CHAR_WIDTHS | 20, 0};
	HINT_PLACE_MONIKER_ABOVE;
}

@object GenTriggerClass OHEEnterTrigger = {
	GI_visMoniker = "Enter";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	GTI_actionMsg = MSG_DOSE_ENTER_OTHER_HIST;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}
@object GenTriggerClass OHECanxTrigger = {
	GI_visMoniker = "Cancel";
	GI_attrs = @default | GA_SIGNAL_INTERACTION_COMPLETE;
	HINT_SEEK_REPLY_BAR;
}

@object GenInteractionClass OtherHistViewDBox = {
	GI_visMoniker = "History";
	GI_comp = @OHVTitles, @OHVDList, @OHVDeleteTrig;
	GI_attrs = @default | GA_TARGETABLE | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE;
	ATTR_GEN_HELP_CONTEXT = "OtherHistViewDB";
}

@object GenGlyphClass OHVTitles = {
	GI_visMoniker = " ";
}

@object GenDynamicListClass OHVDList = {
	GIGI_destination = process;
	GIGI_behaviorType = GIGBT_EXCLUSIVE_NONE;
	GDLI_queryMsg = MSG_DOSE_OTHER_VIEW_DLIST_MONIKER_QUERY;
	HINT_ITEM_GROUP_SCROLLABLE;
	HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_MINIMUM_SIZE = {SST_PIXELS | 200, SST_PIXELS | 15};
	HINT_INITIAL_SIZE = {SST_PIXELS | 200, SST_LINES_OF_TEXT | 10}; 
}

@object GenTriggerClass OHVDeleteTrig = {
	GI_visMoniker = "Delete Item";
	GTI_actionMsg = MSG_DOSE_OTHER_DELETE_ITEM;
	GTI_destination = process;
	HINT_SEEK_REPLY_BAR;
}
@end OtherHistResource;

@start BMIResource;
@object GenInteractionClass BMIDBox = {
	GI_visMoniker = "BMI Calc";
	GI_comp = @BMIEntryGroup, @BMIOutputGroup;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GII_visibility = GIV_DIALOG;
	GII_attrs = @default | GIA_NOT_USER_INITIATABLE;
	ATTR_GEN_HELP_CONTEXT = "BMIDB";
   HINT_CENTER_CHILDREN_HORIZONTALLY;
	ATTR_GEN_WINDOW_KBD_OVERRIDE = KO_KEYBOARD_REQUIRED;
}

@object GenInteractionClass BMIEntryGroup = {
	GI_comp = @BMIWeightIn, @BMIHeightIn;
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	HINT_DRAW_IN_BOX;
	HINT_PLACE_MONIKER_ABOVE;
	HINT_CENTER_MONIKER;
	HINT_CENTER_CHILDREN_ON_MONIKERS;
	HINT_NO_WIDER_THAN_CHILDREN_REQUIRE;
}

@object GenValueClass BMIWeightIn = {
	GI_visMoniker = "Weight in pounds:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GVLI_value = MakeWWFixed(120.0);
	HINT_FIXED_SIZE = {SST_PIXELS | 39, 0};
}

@object GenValueClass BMIHeightIn = {
	GI_visMoniker = "Height in inches:";
	GI_attrs = @default | GA_TARGETABLE
					 | GA_KBD_SEARCH_PATH;
	GVLI_value = MakeWWFixed(60.0);
	GVLI_increment = MakeWWFixed(0.5);
	GVLI_displayFormat = GVDF_DECIMAL;
	ATTR_GEN_VALUE_DECIMAL_PLACES = 1;
}

@object GenInteractionClass BMIOutputGroup = {
	GI_comp = @BMISpacer1, @BMIGroup, @BMISpacer2;
	HINT_DRAW_IN_BOX;
	HINT_PLACE_MONIKER_ABOVE;
	HINT_CENTER_MONIKER;
	HINT_CENTER_CHILDREN_VERTICALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
	HINT_NO_WIDER_THAN_CHILDREN_REQUIRE;
}

@object GenInteractionClass BMIGroup = {
	GI_comp = @BMITrigger, @BMISpacer3, @BMI;
	HINT_ORIENT_CHILDREN_HORIZONTALLY;
	HINT_EXPAND_WIDTH_TO_FIT_PARENT;
	HINT_CENTER_CHILDREN_VERTICALLY;
	HINT_CENTER_CHILDREN_HORIZONTALLY;
}

@object GenGlyphClass BMISpacer1 = {
	GI_visMoniker = "   ";
}

@object GenGlyphClass BMISpacer2 = {
	GI_visMoniker = "   ";
}

@object GenTriggerClass BMITrigger = {
	GI_visMoniker = "Calculate BMI";
	GTI_actionMsg = MSG_DOSE_CALC_BMI;
	GTI_destination = process;
}

@object GenGlyphClass BMISpacer3 = {
	GI_visMoniker = "   ";
}

@object GenValueClass BMI = {
	GI_attrs = @default | GA_READ_ONLY;
	GVLI_displayFormat = GVDF_DECIMAL;
	ATTR_GEN_VALUE_DECIMAL_PLACES = 2;
}

@end BMIResource;
